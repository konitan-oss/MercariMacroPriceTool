### タスク番号と目的
- TASK-04: WPF でチェックされた商品1件について、価格改定サイクル（値下げ→一時停止→待機①→元に戻す→再開→待機②）を完走し、完走時のみ RunCount/LastRunDate を更新できるようにする。

### 実施内容・変更ファイル一覧
- docs/SELECTORS.md を整理し、PausedTextCandidates と編集/保存/停止/再開ボタンや価格入力のセレクタ候補を追記。
- docs/RUNBOOK.md に商品取得と価格改定サイクルの使い方を追記。
- Automation に listings 取得済みデータをもとに価格改定サイクルを実行するメソッドを追加（通常表示、セレクタ候補を利用、待機はキャンセル可）。
- WPF UI に RatePercent/DailyDownYen/待機①/待機②の入力欄、ログ表示欄を追加し、価格改定ボタンから 1 件のみ実行するフローを実装。停止ボタンでキャンセルできるよう統合。
- DB 連携：ItemId があれば ItemState を取得し、初回は BasePrice=一覧価格・RunCount=1 で保存。完走時のみ RunCount+1 と LastRunDate を更新し、UI に反映。

変更ファイル:
- docs/SELECTORS.md
- docs/RUNBOOK.md
- src/MercariMacroPriceTool.Automation/MercariAutomationService.cs
- src/MercariMacroPriceTool.Automation/SelectorsConfig.cs
- src/MercariMacroPriceTool.Automation/ListingItem.cs
- src/MercariMacroPriceTool.Automation/PriceUpdateOptions.cs
- src/MercariMacroPriceTool.App/MainWindow.xaml
- src/MercariMacroPriceTool.App/MainWindow.xaml.cs
- src/MercariMacroPriceTool.App/ListingRow.cs
- reports/20251215-0230_TASK-04.md（本ファイル）

### 実行手順・コマンド、操作
- ビルド確認: `dotnet build MercariMacroPriceTool.sln`
- 価格改定サイクルの流れ（WPF内の操作）:
  1. 商品取得で一覧を表示し、対象1件にチェック。
  2. RatePercent/DailyDownYen/待機①/②を必要に応じて設定（デフォルト: 10, 100, 15, 250）。
  3. 「価格改定を実行」を押下すると、ItemUrl を開いて「商品の編集」→価格変更→保存→一時停止→待機①→再度編集→価格を元に戻す→保存→再開→待機②を実行。
  4. ログは画面下部に表示。停止ボタンで途中キャンセル可。

### 動作確認結果（OK/NG、再現手順）
- `dotnet build MercariMacroPriceTool.sln` : OK
- 価格改定サイクルの実ブラウザ動作と RunCount/LastRunDate 更新: ログイン状態と実ページが必要なため手動確認前提。UI ログと DB (`.local/app.db`) の値で確認可能。

### 既知の課題と次の一手
- DOM セレクタは候補方式。メルカリ側変更時は docs/SELECTORS.md のセレクタを更新し、必要に応じて候補を追加する。
- 検索文字による絞り込みは未実装（将来対応）。
- RunCount は完走時のみ加算。同一日に LastRunDate がある場合はスキップする仕様のため、連続実行時はログで確認する。
