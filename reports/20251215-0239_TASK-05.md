### タスク番号と目的
- TASK-05: DataGrid でチェックされた複数商品を順次処理し、失敗しても全体を止めず、途中停止可能な価格改定サイクルを実装する。結果をUIとファイルログで確認できるようにする。

### 実施内容・変更ファイル一覧
- WPF: 商品間待機秒の入力を追加し、DataGrid に実行結果/メッセージ/実行時刻列を追加。価格改定ボタンを連打防止し、ログ欄を表示。
- WPFロジック: チェック行を上から順に処理。1件失敗でも継続、キャンセル時は全体停止。完走時のみ RunCount/LastRunDate を更新。同日完走済みや ItemId なしはスキップ。商品間待機（デフォ2秒）を実装。
- ログ出力: `.local/logs/YYYYMMDD-HHMM_price-run.csv` に1商品1行で結果を書き出し（ItemId, Title, ItemUrl, BasePrice, NewPrice, 結果, メッセージ, 実行時刻）。UIログにもサマリを表示。
- セレクタ: docs/SELECTORS.md に編集/保存/停止/再開/価格入力の候補を追記。
- RUNBOOK: 複数チェック時の流れ、停止の挙動、ログ保存場所を追記。

変更ファイル:
- docs/SELECTORS.md
- docs/RUNBOOK.md
- src/MercariMacroPriceTool.Automation/MercariAutomationService.cs
- src/MercariMacroPriceTool.Automation/SelectorsConfig.cs
- src/MercariMacroPriceTool.Automation/ListingItem.cs
- src/MercariMacroPriceTool.Automation/PriceUpdateOptions.cs
- src/MercariMacroPriceTool.App/MainWindow.xaml
- src/MercariMacroPriceTool.App/MainWindow.xaml.cs
- src/MercariMacroPriceTool.App/ListingRow.cs
- reports/20251215-0239_TASK-05.md（本ファイル）

### 実行手順・コマンド、操作
- ビルド: `dotnet build MercariMacroPriceTool.sln`
- 複数商品の価格改定:
  1. 「商品取得」で一覧を表示し、処理対象にチェック（上から順に処理）。
  2. RatePercent/DailyDownYen/待機①/②/商品間待機を必要に応じ設定。
  3. 「価格改定を実行」を押下。1件ずつ値下げ→停止→待機①→元に戻す→再開→待機②を実行。停止ボタンで全体キャンセル可。
  4. 結果は表の「実行結果/最終メッセージ/実行時刻」列と `.local/logs/YYYYMMDD-HHMM_price-run.csv` に出力。

### 動作確認結果（OK/NG、再現手順）
- `dotnet build MercariMacroPriceTool.sln` : OK
- 複数商品の価格改定サイクル: ログイン状態と実ページが必要なため手動確認前提。UIログと `.local/logs/` のCSV、DBの RunCount/LastRunDate で確認する。

### 既知の課題と次の一手
- DOM 変更時は docs/SELECTORS.md の候補セレクタを更新し、必要ならコードの候補配列も追加する。
- 検索文字によるフィルタは未実装（将来対応）。
- ログはCSV簡易形式（カンマ含む文字列はダブルクオートでエスケープ）。必要に応じて列追加やTSV化を検討。***
