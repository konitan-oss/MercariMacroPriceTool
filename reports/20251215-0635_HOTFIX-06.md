1 目的\n編集画面の停止ボタンが押せず Pause で止まる問題を解消し、停止/再開で価格確定する正しいフローに合わせてポップアップ遮断やキャンセル時証拠保存を強化する。\n\n2 実施内容\n- Pause/Resume/PopupClose セレクタを a/role/data-testid 含む純粋文字列で整理。\n- MercariAutomationService を Save 無しの正規フローに再構成（商品ページ→編集→値下げ→停止→商品ページ→再編集→元値→再開）。\n- クリック共通処理を追加し、通常→ポップアップ閉鎖→再クリック→JSクリックで押し切る。\n- Pause/Resume 成功判定を商品ページ遷移や公開停止中表示・編集リンク検出で行う。\n- キャンセル時にも Canceled_* で evidence(PNG/HTML) を保存。\n- RUNBOOK に停止/再開で確定すること、キャンセルでも証拠が残ることを追記。\n\n3 変更ファイル\n- docs/SELECTORS.md\n- docs/RUNBOOK.md\n- src/MercariMacroPriceTool.Automation/SelectorsConfig.cs\n- src/MercariMacroPriceTool.Automation/MercariAutomationService.cs\n\n4 確認手順（コニシさん）\n- dotnet build MercariMacroPriceTool.sln が成功すること。\n- 1件チェック→価格改定を実行。ログで Edit→PriceInput→Pause success（商品ページ戻り/公開停止中/編集リンク検出）→待機→再編集→Resume success が進むこと。\n- ポップアップが出ても [PopupDismiss] と click ok (retry/js) などのログで押し切ること。\n- 停止ボタンでキャンセルし、.local/logs/evidence/ に Canceled_<step>.png/html が残ること。\n\n5 動作確認結果\n- dotnet build MercariMacroPriceTool.sln 成功（warning: LocatorIsVisibleOptions.Timeout 古い形式）。\n- クリックリカバリと Pause/Resume 成功判定ロジックを追加済み。実機では商品ページ戻りをログで確認予定。\n\n6 既知の課題\n- メルカリ側 DOM 変化でボタン表記・ポップアップが変わる可能性があるため、SELECTORS.md の候補追加で追随が必要。\n- LocatorIsVisibleOptions.Timeout の警告は将来 API 更新時に見直し予定。\n- 停止/再開で価格が確定しない新しい挙動が出た場合は、成功判定の条件を拡充する必要がある。
